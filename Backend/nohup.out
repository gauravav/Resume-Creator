
> resume-api-server@1.0.0 start
> node src/index.js

[INFO] ðŸ”Œ Checking database connection... {}
[INFO] âœ… Database connection successful { timestamp: 2025-09-03T19:45:22.231Z }
[INFO] Checking database initialization... {}
[INFO] âœ… All required database tables exist {}
[INFO] Server started successfully on port 3200 {
  port: '3200',
  env: 'development',
  timestamp: '2025-09-03T19:45:22.296Z'
}

> resume-api-server@1.0.0 start
> node src/index.js

[INFO] ðŸ”Œ Checking database connection... {}
[INFO] âœ… Database connection successful { timestamp: 2025-09-04T17:58:47.725Z }
[INFO] Checking database initialization... {}
[INFO] âœ… All required database tables exist {}
[INFO] Server started successfully on port 3200 {
  port: '3200',
  env: 'development',
  timestamp: '2025-09-04T17:58:47.798Z'
}
[INFO] SIGTERM received, shutting down gracefully {}
[INFO] Process terminated {}

> resume-api-server@1.0.0 start
> node src/index.js

[INFO] Initializing SendGrid email service {
  fromEmail: 'avulagaurav@gmail.com',
  fromName: 'Resume Builder',
  adminEmail: 'avulagaurav@gmail.com'
}
ðŸ¤– LLM Provider: Gemini Cloud
[INFO] ðŸ”Œ Checking database connection... {}
[INFO] âœ… Database connection successful { timestamp: 2025-09-05T22:44:00.194Z }
[INFO] Checking database initialization... {}
[INFO] âœ… All required database tables exist {}
[INFO] Server started successfully on port 3200 {
  port: '3200',
  env: 'development',
  timestamp: '2025-09-05T22:44:00.265Z'
}
[INFO] ðŸ¤– LLM Provider: Gemini Cloud (gemini-2.0-flash-lite) {
  provider: 'cloud',
  model: 'gemini-2.0-flash-lite',
  service: 'Gemini API'
}
[INFO] Server startup notification sent via SendGrid {
  to: 'avulagaurav@gmail.com',
  port: '3200',
  environment: 'development',
  messageId: 'U0loHUMkQlavC-SpJLew9Q',
  sandboxMode: true
}
[INFO] âœ… Server startup notification email sent successfully {}
[INFO] Verification email sent via SendGrid { to: 'nitishjammula1@gmail.com', messageId: 'gXQNkxSNSC68vRU5-8dW7g' }
[INFO] User registered successfully, verification email sent {
  userId: 2,
  email: 'nitishjammula1@gmail.com',
  isSuperAdmin: false,
  ip: '::ffff:104.28.97.20'
}
[SECURITY] Authentication event: REGISTRATION_SUCCESS {
  userId: 2,
  email: 'nitishjammula1@gmail.com',
  isSuperAdmin: false,
  ip: '::ffff:104.28.97.20'
}
[SECURITY] Login attempt with unverified email {
  userId: 2,
  email: 'nitishjammula1@gmail.com',
  ip: '::ffff:104.28.97.20'
}
[ERROR] Unhandled error occurred {
  error: 'Please verify your email address before logging in',
  stack: 'Error: Please verify your email address before logging in\n' +
    '    at ErrorHandler.createError (/root/Resume-Creator/Backend/src/utils/errorHandler.js:163:19)\n' +
    '    at /root/Resume-Creator/Backend/src/controllers/authController.js:141:28',
  url: '/api/auth/login',
  method: 'POST',
  userId: 'anonymous',
  userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Safari/605.1.15',
  ip: '::ffff:104.28.97.20'
}
[SECURITY] Login attempt with unverified email {
  userId: 2,
  email: 'nitishjammula1@gmail.com',
  ip: '::ffff:104.28.97.20'
}
[ERROR] Unhandled error occurred {
  error: 'Please verify your email address before logging in',
  stack: 'Error: Please verify your email address before logging in\n' +
    '    at ErrorHandler.createError (/root/Resume-Creator/Backend/src/utils/errorHandler.js:163:19)\n' +
    '    at /root/Resume-Creator/Backend/src/controllers/authController.js:141:28',
  url: '/api/auth/login',
  method: 'POST',
  userId: 'anonymous',
  userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Safari/605.1.15',
  ip: '::ffff:104.28.97.20'
}
[INFO] Super admin login successful {
  userId: 1,
  email: 'avulagaurav@gmail.com',
  isSuperAdmin: true,
  ip: '::ffff:104.28.97.28'
}
[SECURITY] Authentication event: LOGIN_SUCCESS {
  userId: 1,
  email: 'avulagaurav@gmail.com',
  isSuperAdmin: true,
  ip: '::ffff:104.28.97.28'
}
Token validation error: error: column "timezone" does not exist
    at /root/Resume-Creator/Backend/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async User.getUserById (/root/Resume-Creator/Backend/src/models/User.js:151:20)
    at async validateToken (/root/Resume-Creator/Backend/src/controllers/authController.js:235:18) {
  length: 109,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '111',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3665',
  routine: 'errorMissingColumn'
}
Get user error: error: column "timezone" does not exist
    at /root/Resume-Creator/Backend/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async User.getUserById (/root/Resume-Creator/Backend/src/models/User.js:151:20)
    at async getMe (/root/Resume-Creator/Backend/src/controllers/authController.js:210:18) {
  length: 109,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '111',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3665',
  routine: 'errorMissingColumn'
}
